{"version":3,"sources":["public\\scripts\\app.js"],"names":["$","ready","prot","window","location","protocol","on","event","data","val","getWikipediaData","preventDefault","console","log","open","numberPages","searchString","encodeURI","apiURL","request","ajax","type","url","dataType","jsonp","headers","success","html","i","length","append","error"],"mappings":";AAAA;;;;;;;AAOA;AACAA,EAAE,UAAF,EAAcC,KAAd,CAAoB,YAAU;AAC1B,MAAIC,OAAOC,OAAOC,QAAP,CAAgBC,QAA3B,CAD0B,CACW;AACrC;AACAL,IAAE,SAAF,EAAaM,EAAb,CAAgB,QAAhB,EAA0B,UAASC,KAAT,EAAe;AACvC,QAAIC,OAAOR,EAAE,aAAF,EAAiBS,GAAjB,EAAX;AACAC,qBAAiBF,IAAjB;AACA;AACAD,UAAMI,cAAN;AACD,GALD;;AAOA;AACAX,IAAE,SAAF,EAAaM,EAAb,CAAgB,OAAhB,EAAyB,YAAU;AACjCM,YAAQC,GAAR,CAAY,UAAZ;AACAV,WAAOW,IAAP,CAAYZ,OAAO,wCAAnB,EAA6D,WAA7D;AACAK,UAAMI,cAAN;AACD,GAJD;;AAMA;AACA,WAASD,gBAAT,CAA0BF,IAA1B,EAA+B;AAC7B,QAAIO,cAAc,EAAlB;AACA,QAAIC,eAAeC,UAAUT,IAAV,CAAnB;AACA,QAAIU,SAAShB,OAAO,wDAAP,GAAkEc,YAAlE,GAAiF,yCAA9F;;AAIA;AACA;;AAEA;AACC,QAAIG,UAAUnB,EAAEoB,IAAF,CAAO;AACnBC,YAAM,KADa;AAElBC,WAAKJ,MAFa;AAGlBK,gBAAU,OAHQ;AAIlBC,aAAO,UAJW;AAKlBC,eAAS,EAAE,kBAAkB,+BAApB;AALS,KAAP,CAAd;;AAQD;AACAN,YAAQO,OAAR,CAAgB,UAASlB,IAAT,EAAc;AAC5B;AACA;AACAI,cAAQC,GAAR,CAAYL,IAAZ;AACA;AACA;AACA;AACA;AACAR,QAAE,WAAF,EAAe2B,IAAf,CAAoB,EAApB;;AAEA,WAAI,IAAIC,IAAI,CAAZ,EAAeA,IAAIpB,KAAK,CAAL,EAAQqB,MAA3B,EAAmCD,GAAnC,EAAuC;AACrC;AACAhB,gBAAQC,GAAR,CAAYL,IAAZ;AACAR,UAAE,WAAF,EAAe8B,MAAf,CAAsB,mCAAmCtB,KAAK,CAAL,EAAQoB,CAAR,CAAnC,GAAgD,wBAAhD,GAA2EpB,KAAK,CAAL,EAAQoB,CAAR,CAA3E,GAAwF,UAAxF,GAAqGpB,KAAK,CAAL,EAAQoB,CAAR,CAArG,GAAkH,gBAAxI;AACD;AAEF,KAhBD;;AAkBA;AACAT,YAAQY,KAAR,CAAc,UAASA,KAAT,EAAe;AAC3BnB,cAAQC,GAAR,CAAY,6CAAZ;AACD,KAFD;AAKD;AAEF,CAhEH;AAiEQ","file":"app.55d2769e.map","sourceRoot":"..","sourcesContent":["/*1. Can search wikipedia via a search bar and view resulting articles on page\r\n    Hint #2: Here's an entry on using Wikipedia's API: https://www.mediawiki.org/wiki/API:Main_page\r\n  2. I can click a button to see a random wikipedia article\r\n    Hint #1: Here's a URL you can use to get a random Wikipedia article: https://en.wikipedia.org/wiki/Special:Random\r\n\r\n\r\n*/\r\n//main\r\n$(\"document\").ready(function(){\r\n    var prot = window.location.protocol; //get connection protocol\r\n    //event handler for form submit\r\n    $(\"#search\").on(\"submit\", function(event){\r\n      var data = $(\"#search-box\").val()\r\n      getWikipediaData(data);\r\n      //getWikipediaData(data); //function to request wikipedia data\r\n      event.preventDefault();\r\n    });\r\n  \r\n    //event handler for random button\r\n    $(\"#random\").on(\"click\", function(){\r\n      console.log(\"clicked!\");\r\n      window.open(prot + \"//en.wikipedia.org/wiki/Special:Random\", \"Wikipedia\");\r\n      event.preventDefault();\r\n    });\r\n  \r\n    //Function to retrieve wikipedia data\r\n    function getWikipediaData(data){\r\n      var numberPages = 10;\r\n      var searchString = encodeURI(data);\r\n      var apiURL = prot + '//en.wikipedia.org/w/api.php?action=opensearch&search=' + searchString + '&profile=fuzzy&suggest=true&format=json';\r\n  \r\n  \r\n  \r\n      //formatversion=2   - for json requests\r\n      //continue=   - empty passed to get continue\r\n  \r\n      //make ajax request\r\n       var request = $.ajax({\r\n         type: 'GET',\r\n          url: apiURL,\r\n          dataType: 'jsonp',\r\n          jsonp: \"callback\",\r\n          headers: { 'Api-User-Agent': 'FreeCodeCamp Wikipedia Viewer' }\r\n      });\r\n  \r\n      //handle succesful request\r\n      request.success(function(data){\r\n        //do something with the received data\r\n        //check for continue string.  If present, resubmit request with continue to get more\r\n        console.log(data);\r\n        //console.log(data[0]); //search string\r\n        //console.log(data[1]); // array listing titles\r\n        //console.log(data[2]); // array listing description\r\n        //console.log(data[3]); // array listing link\r\n        $(\"#articles\").html(\"\");\r\n  \r\n        for(var i = 0; i < data[1].length; i++){\r\n          //console.log(\"Title: \" + data[1][i] + \"\\n Description: \" + data[2][i] + \"\\n Link: \" + data[3][i]);\r\n          console.log(data);\r\n          $(\"#articles\").append(\"<div class='article'><a href='\" + data[3][i] + \"' target='_blank'><h3>\" + data[1][i] + \"</h3><p>\" + data[2][i] + \"</p></a></div>\");\r\n        }\r\n  \r\n      });\r\n  \r\n      //handle errors\r\n      request.error(function(error){\r\n        console.log(\"An error has occured while retrieving data!\");\r\n      });\r\n  \r\n  \r\n    }\r\n  \r\n  });\r\n        //# sourceURL=pen.js"]}